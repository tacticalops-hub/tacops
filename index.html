<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>CODM Tactical Map Guides</title>
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
  <meta http-equiv="Pragma" content="no-cache">
  <meta http-equiv="Expires" content="0">
  
  <!-- PWA Meta Tags -->
  <meta name="description" content="Interactive tactical map guides for Call of Duty Mobile with drawing tools and route planning">
  <meta name="theme-color" content="#00aaff">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="CODM Maps">
  
  <!-- PWA Manifest -->
  <link rel="manifest" href="resources/manifest.json?v=1.0.2">
  <link rel="stylesheet" href="resources/css/main.css">
  
  <!-- PWA Icons -->
  <link rel="icon" type="image/png" sizes="32x32" href="resources/icons/icon-72x72.png">
  <link rel="icon" type="image/png" sizes="16x16" href="resources/icons/icon-72x72.png">
  <link rel="apple-touch-icon" href="resources/icons/icon-152x152.png">
  <link rel="apple-touch-icon" sizes="152x152" href="resources/icons/icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="resources/icons/icon-192x192.png">
  <link rel="apple-touch-icon" sizes="167x167" href="resources/icons/icon-152x152.png">
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-B99CVFWBGB"></script>
  <script src="resources/js/analytics.js"></script>
</head>
<body>
  <div id="rotationWarning" style="
    display: none;
    position: fixed;
    bottom: 2rem;
    left: 50%;
    transform: translateX(-50%);
    background-color: rgba(255, 50, 50, 0.9);
    color: #fff;
    padding: 0.6rem 1.2rem;
    border-radius: 8px;
    font-size: 1rem;
    font-weight: bold;
    z-index: 9999;
    pointer-events: none;
    user-select: none;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
  ">
    Rotate back to normal to draw.
  </div>
  <div class="container">
    <h1>CODM Map Routes</h1>
    <div class="sidebar">
      <h2>CODM Tactical Maps</h2>
      
      <div class="map-selector">
        <label for="sidebarMapSelect">Select Map:</label>
        <div id="uploadedMapsList" class="uploaded-maps-list">
          <!-- Uploaded maps with rename buttons will be added here -->
        </div>
        <select id="sidebarMapSelect">
          <option value="" disabled selected>Choose a map...</option>
          <!-- Uploaded maps will be inserted here dynamically -->
          <option value="cage">Cage</option>
          <option value="cheshire_park">Cheshire Park</option>
          <option value="coastal">Coastal</option>
          <option value="combine">Combine</option>
          <option value="crash">Crash</option>
          <option value="crossfire">Crossfire</option>
          <option value="diesel">Diesel</option>
          <option value="docks">Docks</option>
          <option value="dome">Dome</option>
          <option value="firing_range">Firing Range</option>
          <option value="hacienda">Hacienda</option>
          <option value="hackney_yard">Hackney Yard</option>
          <option value="hardhat">Hardhat</option>
          <option value="hijacked">Hijacked</option>
          <option value="highrise">Highrise</option>
          <option value="hovec_sawmill">Hovec Sawmill</option>
          <option value="icebreaker">Icebreaker</option>
          <option value="khandor_hideout">Khandor Hideout</option>
          <option value="killhouse">Killhouse</option>
          <option value="king">King</option>
          <option value="kurohana_metropolis">Kurohana Metropolis</option>
          <option value="meltdown">Meltdown</option>
          <option value="monastery">Monastery</option>
          <option value="nuketown">Nuketown</option>
          <option value="nuketown_russia">Nuketown Russia</option>
          <option value="oasis">Oasis</option>
          <option value="pine">Pine</option>
          <option value="raid">Raid</option>
          <option value="rust">Rust</option>
          <option value="saloon">Saloon</option>
          <option value="scrapyard_2019">Scrapyard 2019</option>
          <option value="shipment">Shipment</option>
          <option value="shoot_house">Shoot House</option>
          <option value="slums">Slums</option>
          <option value="standoff">Standoff</option>
          <option value="suldal_harbor">Suldal Harbor</option>
          <option value="summit">Summit</option>
          <option value="takeoff">Takeoff</option>
          <option value="terminal">Terminal</option>
          <option value="tunisia">Tunisia</option>
          <option value="vacant">Vacant</option>
          <option value="zoo">Zoo</option>
        </select>
        <button id="rotateMapBtn" class="upload-btn" style="margin-top:0.7rem;">⟳ Rotate</button>
      </div>

      <div class="upload-section">
        <label for="imageUpload">Upload Custom Map:</label>
        <input type="file" id="imageUpload" accept="image/*" style="display: none;">
        <button id="uploadBtn" class="upload-btn">📁 Choose Image</button>
        <div id="uploadStatus" class="upload-status"></div>
      </div>
      <div id="uploadsContainer" style="margin:1rem 0;"></div>

      <div class="whiteboard-controls">
        <div style="margin-bottom:0.7rem;">
          <div style="font-weight:bold;color:#0af;margin-bottom:0.3rem;font-size:0.98rem;">Route Color</div>
          <div id="routeColorButtons" style="display:flex;gap:6px;flex-wrap:wrap;">
            <button class="route-color-btn" data-color="#0af" style="background:#0af;width:28px;height:28px;border-radius:50%;border:2px solid #fff;outline:2px solid #0af;cursor:pointer;"></button>
            <button class="route-color-btn" data-color="#e53935" style="background:#e53935;width:28px;height:28px;border-radius:50%;border:2px solid #fff;outline:none;cursor:pointer;"></button>
            <button class="route-color-btn" data-color="#43a047" style="background:#43a047;width:28px;height:28px;border-radius:50%;border:2px solid #fff;outline:none;cursor:pointer;"></button>
            <button class="route-color-btn" data-color="#fbc02d" style="background:#fbc02d;width:28px;height:28px;border-radius:50%;border:2px solid #fff;outline:none;cursor:pointer;"></button>
            <button class="route-color-btn" data-color="#ff9800" style="background:#ff9800;width:28px;height:28px;border-radius:50%;border:2px solid #fff;outline:none;cursor:pointer;"></button>
            <button class="route-color-btn" data-color="#8e24aa" style="background:#8e24aa;width:28px;height:28px;border-radius:50%;border:2px solid #fff;outline:none;cursor:pointer;"></button>
          </div>
        </div>
        <!-- Marker Color Buttons -->
        <div style="margin-bottom:0.7rem;">
          <div style="font-weight:bold;color:#0af;margin-bottom:0.3rem;font-size:0.98rem;">Marker Color</div>
          <div id="markerColorButtons" style="display:flex;gap:6px;flex-wrap:wrap;">
            <button class="marker-color-btn" data-color="#0af" style="background:#0af;width:28px;height:28px;border-radius:50%;border:2px solid #fff;outline:2px solid #0af;cursor:pointer;"></button>
            <button class="marker-color-btn" data-color="#e53935" style="background:#e53935;width:28px;height:28px;border-radius:50%;border:2px solid #fff;outline:none;cursor:pointer;"></button>
            <button class="marker-color-btn" data-color="#43a047" style="background:#43a047;width:28px;height:28px;border-radius:50%;border:2px solid #fff;outline:none;cursor:pointer;"></button>
            <button class="marker-color-btn" data-color="#fbc02d" style="background:#fbc02d;width:28px;height:28px;border-radius:50%;border:2px solid #fff;outline:none;cursor:pointer;"></button>
            <button class="marker-color-btn" data-color="#ff9800" style="background:#ff9800;width:28px;height:28px;border-radius:50%;border:2px solid #fff;outline:none;cursor:pointer;"></button>
            <button class="marker-color-btn" data-color="#8e24aa" style="background:#8e24aa;width:28px;height:28px;border-radius:50%;border:2px solid #fff;outline:none;cursor:pointer;"></button>
          </div>
        </div>
        <input type="text" id="boardName" placeholder="Enter board name" class="board-input">
        <button id="saveBoardBtn" aria-label="Save current board"><span class="icon">💾</span><span class="label"> Save Board</span></button>
        <select id="savedBoards" onchange="loadBoard()" class="board-select">
          <option value="">Select a saved board</option>
        </select>
        <button onclick="resetCanvas()" aria-label="Clear all drawings"><span class="icon">🧹</span><span class="label"> Clear Board</span></button>
        <button id="undoBtn" aria-label="Undo last drawing"><span class="icon">↩️</span><span class="label"> Undo</span></button>
        <button id="redoBtn" aria-label="Redo last undone drawing"><span class="icon">↪️</span><span class="label"> Redo</span></button>
        <button onclick="exportAsImage()" aria-label="Export board as image"><span class="icon">📤</span><span class="label"> Export Board</span></button>
        <button onclick="newBoard()" aria-label="Create new board"><span class="icon">📝</span><span class="label"> New Board</span></button>
        <button onclick="deleteSelectedBoard()" aria-label="Delete selected board"><span class="icon">🗑️</span><span class="label"> Delete Board</span></button>
        <button id="sidebarAddMarkerBtn" aria-label="Add marker"><span class="icon">📍</span><span class="label"> Add Marker</span></button>
        <button id="installBtn" onclick="installApp()" aria-label="Install app" style="display: none;"><span class="icon">📱</span><span class="label"> Install App</span></button>
        <button id="checkUpdateBtn" aria-label="Check for update" style="background:#0af;color:#fff;"><span class="icon">🔄</span><span class="label"> Check for Update</span></button>
      </div>
    </div>
    <div class="sidebar-overlay" id="sidebarOverlay"></div>
    <button class="sidebar-toggle" id="sidebarToggle" aria-label="Toggle sidebar">☰</button>
    <div id="currentMapLabel" style="position:fixed;left:100px;top:1rem;z-index:251;color:#0af;font-weight:bold;font-size:1.05rem;text-shadow:0 1px 4px #000;pointer-events:none;">Standoff</div>
    <div id="offlineIndicator" style="position:fixed;right:1rem;top:1rem;z-index:252;background:#ff4444;color:#fff;padding:0.8rem 1rem;border-radius:8px;font-size:1rem;font-weight:bold;display:none;box-shadow:0 2px 8px rgba(0,0,0,0.3);">Offline</div>
    <div id="installBanner" style="position:fixed;top:0;left:0;right:0;background:#0af;color:#000;padding:1rem;text-align:center;z-index:300;display:none;box-shadow:0 4px 16px rgba(0,0,0,0.3);">
      <span style="font-weight:bold;font-size:1.1rem;">📱 Install CODM Maps for the best experience!</span>
      <button onclick="installApp()" style="margin-left:1rem;background:#000;color:#0af;border:none;padding:0.8rem 1.5rem;border-radius:8px;font-weight:bold;cursor:pointer;font-size:1rem;min-height:44px;">Install Now</button>
      <button onclick="hideInstallBanner()" style="margin-left:0.5rem;background:transparent;color:#000;border:2px solid #000;padding:0.8rem 1.5rem;border-radius:8px;cursor:pointer;font-size:1rem;min-height:44px;">Not Now</button>
    </div>

    <main>
      <div class="map-entry" id="standoff">
        <div class="map-container">
          <!-- .map-content wrapper exists only to sync rotation between image and canvas -->
          <div class="map-content">
          <img id="standoffMapImage" src="resources/images/standoff-clean.png" alt="Standoff Map">
          <canvas id="standoffDrawingCanvas"></canvas>
          </div>
        </div>
      </div>

      <div class="map-entry" id="firing_range">
        <div class="map-container">
          <!-- .map-content wrapper exists only to sync rotation between image and canvas -->
          <div class="map-content">
            <img id="firingRangeMapImage" src="resources/images/firing_range_labeled.png" alt="Firing Range Map">
          <canvas id="firingRangeDrawingCanvas"></canvas>
          </div>
        </div>
      </div>

      <div class="map-entry" id="zoo" style="display:none;">
        <div class="map-container">
          <!-- .map-content wrapper exists only to sync rotation between image and canvas -->
          <div class="map-content">
            <img id="zooMapImage" src="resources/images/zoo_labeled.png" alt="Zoo Map">
          <canvas id="zooDrawingCanvas"></canvas>
          </div>
        </div>
      </div>

      <div class="map-entry" id="terminal" style="display:none;">
        <div class="map-container">
          <!-- .map-content wrapper exists only to sync rotation between image and canvas -->
          <div class="map-content">
            <img id="terminalMapImage" src="resources/images/terminal_labeled.png" alt="Terminal Map">
          <canvas id="terminalDrawingCanvas"></canvas>
          </div>
        </div>
      </div>

      <div class="map-entry" id="tunisia" style="display:none;">
        <div class="map-container">
          <!-- .map-content wrapper exists only to sync rotation between image and canvas -->
          <div class="map-content">
            <img id="tunisiaMapImage" src="resources/images/tunisia_labeled.png" alt="Tunisia Map">
          <canvas id="tunisiaDrawingCanvas"></canvas>
          </div>
        </div>
      </div>

      <div class="map-entry" id="monastery" style="display:none;">
        <div class="map-container">
          <!-- .map-content wrapper exists only to sync rotation between image and canvas -->
          <div class="map-content">
          <img id="monasteryMapImage" src="resources/images/monastery.png" alt="Monastery Map">
          <canvas id="monasteryDrawingCanvas"></canvas>
          </div>
        </div>
      </div>

      <div class="map-entry" id="oasis" style="display:none;">
        <div class="map-container">
          <!-- .map-content wrapper exists only to sync rotation between image and canvas -->
          <div class="map-content">
          <img id="oasisMapImage" src="resources/images/oasis.png" alt="Oasis Map">
          <canvas id="oasisDrawingCanvas"></canvas>
          </div>
        </div>
      </div>

      <div class="map-entry" id="rust" style="display:none;">
        <div class="map-container">
          <!-- .map-content wrapper exists only to sync rotation between image and canvas -->
          <div class="map-content">
          <img id="rustMapImage" src="resources/images/rust.png" alt="Rust Map">
          <canvas id="rustDrawingCanvas"></canvas>
          </div>
        </div>
      </div>

      <div class="map-entry" id="hacienda" style="display:none;">
        <div class="map-container">
          <!-- .map-content wrapper exists only to sync rotation between image and canvas -->
          <div class="map-content">
            <img id="haciendaMapImage" src="resources/images/hacienda_labeled.png" alt="Hacienda Map">
          <canvas id="haciendaDrawingCanvas"></canvas>
          </div>
        </div>
      </div>

      <div class="map-entry" id="highrise" style="display:none;">
        <div class="map-container">
          <!-- .map-content wrapper exists only to sync rotation between image and canvas -->
          <div class="map-content">
          <img id="highriseMapImage" src="resources/images/highrise.png" alt="Highrise Map">
          <canvas id="highriseDrawingCanvas"></canvas>
          </div>
        </div>
      </div>

      <div class="map-entry" id="icebreaker" style="display:none;">
        <div class="map-container">
          <!-- .map-content wrapper exists only to sync rotation between image and canvas -->
          <div class="map-content">
          <img id="icebreakerMapImage" src="resources/images/icebreaker.png" alt="Icebreaker Map">
          <canvas id="icebreakerDrawingCanvas"></canvas>
          </div>
        </div>
      </div>

      <div class="map-entry" id="takeoff" style="display:none;">
        <div class="map-container">
          <!-- .map-content wrapper exists only to sync rotation between image and canvas -->
          <div class="map-content">
          <img id="takeoffMapImage" src="resources/images/takeoff.png" alt="Takeoff Map">
          <canvas id="takeoffDrawingCanvas"></canvas>
          </div>
        </div>
      </div>

      <div class="map-entry" id="vacant" style="display:none;">
        <div class="map-container">
          <!-- .map-content wrapper exists only to sync rotation between image and canvas -->
          <div class="map-content">
          <img id="vacantMapImage" src="resources/images/vacant.png" alt="Vacant Map">
          <canvas id="vacantDrawingCanvas"></canvas>
          </div>
        </div>
      </div>

      <div class="map-entry" id="hackney_yard" style="display:none;">
        <div class="map-container">
          <!-- .map-content wrapper exists only to sync rotation between image and canvas -->
          <div class="map-content">
          <img id="hackneyYardMapImage" src="resources/images/hackney_yard.png" alt="Hackney Yard Map">
          <canvas id="hackneyYardDrawingCanvas"></canvas>
          </div>
        </div>
      </div>

      <div class="map-entry" id="hovec_sawmill" style="display:none;">
        <div class="map-container">
          <!-- .map-content wrapper exists only to sync rotation between image and canvas -->
          <div class="map-content">
          <img id="hovecSawmillMapImage" src="resources/images/hovec_sawmill.png" alt="Hovec Sawmill Map">
          <canvas id="hovecSawmillDrawingCanvas"></canvas>
          </div>
        </div>
      </div>

      <div class="map-entry" id="shipment" style="display:none;">
        <div class="map-container">
          <!-- .map-content wrapper exists only to sync rotation between image and canvas -->
          <div class="map-content">
          <img id="shipmentMapImage" src="resources/images/shipment.png" alt="Shipment Map">
          <canvas id="shipmentDrawingCanvas"></canvas>
          </div>
        </div>
      </div>

      <div class="map-entry" id="scrapyard_2019" style="display:none;">
        <div class="map-container">
          <!-- .map-content wrapper exists only to sync rotation between image and canvas -->
          <div class="map-content">
          <img id="scrapyard2019MapImage" src="resources/images/scrapyard_2019.png" alt="Scrapyard 2019 Map">
          <canvas id="scrapyard2019DrawingCanvas"></canvas>
          </div>
        </div>
      </div>

      <div class="map-entry" id="suldal_harbor" style="display:none;">
        <div class="map-container">
          <!-- .map-content wrapper exists only to sync rotation between image and canvas -->
          <div class="map-content">
          <img id="suldalHarborMapImage" src="resources/images/suldal_harbor.png" alt="Suldal Harbor Map">
          <canvas id="suldalHarborDrawingCanvas"></canvas>
          </div>
        </div>
      </div>

      <div class="map-entry" id="dome" style="display:none;">
        <div class="map-container">
          <!-- .map-content wrapper exists only to sync rotation between image and canvas -->
          <div class="map-content">
          <img id="domeMapImage" src="resources/images/dome.png" alt="Dome Map">
          <canvas id="domeDrawingCanvas"></canvas>
          </div>
        </div>
      </div>

      <div class="map-entry" id="slums" style="display:none;">
        <div class="map-container">
          <!-- .map-content wrapper exists only to sync rotation between image and canvas -->
          <div class="map-content">
            <img id="slumsMapImage" src="resources/images/slums_labeled.png" alt="Slums Map">
          <canvas id="slumsDrawingCanvas"></canvas>
          </div>
        </div>
      </div>

      <div class="map-entry" id="nuketown_russia" style="display:none;">
        <div class="map-container">
          <!-- .map-content wrapper exists only to sync rotation between image and canvas -->
          <div class="map-content">
          <img id="nuketownRussiaMapImage" src="resources/images/nuketown_russia.png" alt="Nuketown Russia Map">
          <canvas id="nuketownRussiaDrawingCanvas"></canvas>
          </div>
        </div>
      </div>

      <div class="map-entry" id="meltdown" style="display:none;">
        <div class="map-container">
          <!-- .map-content wrapper exists only to sync rotation between image and canvas -->
          <div class="map-content">
          <img id="meltdownMapImage" src="resources/images/meltdown.png" alt="Meltdown Map">
          <canvas id="meltdownDrawingCanvas"></canvas>
          </div>
        </div>
      </div>

      <div class="map-entry" id="summit" style="display:none;">
        <div class="map-container">
          <!-- .map-content wrapper exists only to sync rotation between image and canvas -->
          <div class="map-content">
          <img id="summitMapImage" src="resources/images/summit.png" alt="Summit Map">
          <canvas id="summitDrawingCanvas"></canvas>
          </div>
        </div>
      </div>

      <div class="map-entry" id="hijacked" style="display:none;">
        <div class="map-container">
          <!-- .map-content wrapper exists only to sync rotation between image and canvas -->
          <div class="map-content">
          <img id="hijackedMapImage" src="resources/images/hijacked.png" alt="Hijacked Map">
          <canvas id="hijackedDrawingCanvas"></canvas>
          </div>
        </div>
      </div>

      <div class="map-entry" id="crash" style="display:none;">
        <div class="map-container">
          <!-- .map-content wrapper exists only to sync rotation between image and canvas -->
          <div class="map-content">
            <img id="crashMapImage" src="resources/images/crash_labeled.png" alt="Crash Map">
          <canvas id="crashDrawingCanvas"></canvas>
          </div>
        </div>
      </div>

      <div class="map-entry" id="crossfire" style="display:none;">
        <div class="map-container">
          <!-- .map-content wrapper exists only to sync rotation between image and canvas -->
          <div class="map-content">
          <img id="crossfireMapImage" src="resources/images/crossfire.png" alt="Crossfire Map">
          <canvas id="crossfireDrawingCanvas"></canvas>
          </div>
        </div>
      </div>

      <div class="map-entry" id="raid" style="display:none;">
        <div class="map-container">
          <!-- .map-content wrapper exists only to sync rotation between image and canvas -->
          <div class="map-content">
            <img id="raidMapImage" src="resources/images/raid_labeled.png" alt="Raid Map">
          <canvas id="raidDrawingCanvas"></canvas>
          </div>
        </div>
      </div>

      <div class="map-entry" id="nuketown" style="display:none;">
        <div class="map-container">
          <!-- .map-content wrapper exists only to sync rotation between image and canvas -->
          <div class="map-content">
          <img id="nuketownMapImage" src="resources/images/nuketown.png" alt="Nuketown Map">
          <canvas id="nuketownDrawingCanvas"></canvas>
          </div>
        </div>
      </div>

      <div class="map-entry" id="killhouse" style="display:none;">
        <div class="map-container">
          <!-- .map-content wrapper exists only to sync rotation between image and canvas -->
          <div class="map-content">
          <img id="killhouseMapImage" src="resources/images/killhouse.png" alt="Killhouse Map">
          <canvas id="killhouseDrawingCanvas"></canvas>
          </div>
        </div>
      </div>

      <div class="map-entry" id="hardhat" style="display:none;">
        <div class="map-container">
          <!-- .map-content wrapper exists only to sync rotation between image and canvas -->
          <div class="map-content">
          <img id="hardhatMapImage" src="resources/images/hardhat.png" alt="Hardhat Map">
          <canvas id="hardhatDrawingCanvas"></canvas>
          </div>
        </div>
      </div>

      <div class="map-entry" id="saloon" style="display:none;">
        <div class="map-container">
          <!-- .map-content wrapper exists only to sync rotation between image and canvas -->
          <div class="map-content">
          <img id="saloonMapImage" src="resources/images/saloon.png" alt="Saloon Map">
          <canvas id="saloonDrawingCanvas"></canvas>
          </div>
        </div>
      </div>

      <div class="map-entry" id="pine" style="display:none;">
        <div class="map-container">
          <!-- .map-content wrapper exists only to sync rotation between image and canvas -->
          <div class="map-content">
          <img id="pineMapImage" src="resources/images/pine.png" alt="Pine Map">
          <canvas id="pineDrawingCanvas"></canvas>
          </div>
        </div>
      </div>

      <div class="map-entry" id="king" style="display:none;">
        <div class="map-container">
          <!-- .map-content wrapper exists only to sync rotation between image and canvas -->
          <div class="map-content">
          <img id="kingMapImage" src="resources/images/king.png" alt="King Map">
          <canvas id="kingDrawingCanvas"></canvas>
          </div>
        </div>
      </div>

      <div class="map-entry" id="docks" style="display:none;">
        <div class="map-container">
          <!-- .map-content wrapper exists only to sync rotation between image and canvas -->
          <div class="map-content">
          <img id="docksMapImage" src="resources/images/docks.png" alt="Docks Map">
          <canvas id="docksDrawingCanvas"></canvas>
          </div>
        </div>
      </div>

      <div class="map-entry" id="shoot_house" style="display:none;">
        <div class="map-container">
          <!-- .map-content wrapper exists only to sync rotation between image and canvas -->
          <div class="map-content">
          <img id="shootHouseMapImage" src="resources/images/shoot_house.png" alt="Shoot House Map">
          <canvas id="shootHouseDrawingCanvas"></canvas>
          </div>
        </div>
      </div>

      <div class="map-entry" id="cage" style="display:none;">
        <div class="map-container">
          <!-- .map-content wrapper exists only to sync rotation between image and canvas -->
          <div class="map-content">
          <img id="cageMapImage" src="resources/images/cage.png" alt="Cage Map">
          <canvas id="cageDrawingCanvas"></canvas>
          </div>
        </div>
      </div>

      <div class="map-entry" id="coastal" style="display:none;">
        <div class="map-container">
          <!-- .map-content wrapper exists only to sync rotation between image and canvas -->
          <div class="map-content">
            <img id="coastalMapImage" src="resources/images/coastal_labeled.png" alt="Coastal Map">
            <canvas id="coastalDrawingCanvas"></canvas>
          </div>
        </div>
      </div>

      <div class="map-entry" id="diesel" style="display:none;">
        <div class="map-container">
          <!-- .map-content wrapper exists only to sync rotation between image and canvas -->
          <div class="map-content">
            <img id="dieselMapImage" src="resources/images/diesel_labeled.png" alt="Diesel Map">
            <canvas id="dieselDrawingCanvas"></canvas>
          </div>
        </div>
      </div>

      <div class="map-entry" id="kurohana_metropolis" style="display:none;">
        <div class="map-container">
          <!-- .map-content wrapper exists only to sync rotation between image and canvas -->
          <div class="map-content">
            <img id="kurohanaMetropolisMapImage" src="resources/images/kurohana_metropolis_labeled.png" alt="Kurohana Metropolis Map">
            <canvas id="kurohanaMetropolisDrawingCanvas"></canvas>
          </div>
        </div>
      </div>

      <div class="map-entry" id="combine" style="display:none;">
        <div class="map-container">
          <!-- .map-content wrapper exists only to sync rotation between image and canvas -->
          <div class="map-content">
            <img id="combineMapImage" src="resources/images/combine_labeled.png" alt="Combine Map">
            <canvas id="combineDrawingCanvas"></canvas>
          </div>
        </div>
      </div>

      <div class="map-entry" id="cheshire_park" style="display:none;">
        <div class="map-container">
          <!-- .map-content wrapper exists only to sync rotation between image and canvas -->
          <div class="map-content">
            <img id="cheshireParkMapImage" src="resources/images/cheshire_park_labeled.png" alt="Cheshire Park Map">
            <canvas id="cheshireParkDrawingCanvas"></canvas>
          </div>
        </div>
      </div>

      <div class="map-entry" id="khandor_hideout" style="display:none;">
        <div class="map-container">
          <!-- .map-content wrapper exists only to sync rotation between image and canvas -->
          <div class="map-content">
            <img id="khandorHideoutMapImage" src="resources/images/khandor_hideout_labeled.png" alt="Khandor Hideout Map">
            <canvas id="khandorHideoutDrawingCanvas"></canvas>
          </div>
        </div>
      </div>
    </main>

    <!-- Floating Action Button for mobile -->
    <div class="fab" id="fab">
      <button class="fab-main" id="fabMainBtn" aria-label="Open actions" tabindex="0" aria-expanded="false">＋</button>
      <div class="fab-menu" id="fabMenu">
        <button class="fab-action" id="fabAddMarker">📍 Add Marker</button>
        <button class="fab-action" id="fabSaveBoard">💾 Save Board</button>
        <button class="fab-action" id="fabExportBoard">📤 Export Board</button>
        <button class="fab-action" id="fabClearBoard">🧹 Clear Board</button>
        <button class="fab-action" id="fabUndo">↩️ Undo</button>
        <button class="fab-action" id="fabRedo">↪️ Redo</button>
        <button class="fab-action" id="fabInstall" style="display: none;">📱 Install App</button>
      </div>
    </div>

    <footer>
      <p>Fan-made. Not affiliated with Activision. All rights belong to their respective owners.</p>
    </footer>
  </div>

  <!-- Add update button to the page (hidden by default) -->
  <button id="update-btn" style="display:none;position:fixed;top:10px;right:10px;z-index:9999;background:#0af;color:#fff;font-weight:bold;padding:1rem 2rem;border:none;border-radius:8px;box-shadow:0 2px 8px rgba(0,0,0,0.2);cursor:pointer;">Update Available - Click to Refresh</button>




  <script src="resources/js/main.js"></script>
  <script src="resources/js/ui.js"></script>
  <script src="resources/js/sw-register.js"></script>
</body>
</html>
